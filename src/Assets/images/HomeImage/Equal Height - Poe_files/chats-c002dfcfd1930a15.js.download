(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7044],{86867:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chats",function(){return l(57509)}])},26905:function(e,a,l){"use strict";var n,t,i,r,s,o,u,d;l.r(a);let c=(n=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},t={kind:"Variable",name:"handle",variableName:"handle"}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"ChatHistoryFilteredListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},t],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHistoryFilteredListPaginationQuery",selections:[{alias:"filteredChats",args:i,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:d=[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"URLBotImage",abstractKey:null}],storageKey:null},{alias:"smallPicture",args:[{kind:"Literal",name:"size",value:"small"}],concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:d,storageKey:'picture(size:"small")'},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},r],storageKey:null},u,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},r],storageKey:null},{alias:"filteredChats",args:i,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,o,r],storageKey:null}]},params:{id:"53ba936a855c3d6ab3387e4621f22c931f20b757b4a6311849a26d952ecee1d6",metadata:{},name:"ChatHistoryFilteredListPaginationQuery",operationKind:"query",text:null}});c.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=c},31233:function(e,a,l){"use strict";var n;l.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["filteredChats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:[],operation:l(26905)}},name:"ChatHistoryFilteredList_queryRoot",selections:[{alias:"filteredChats",args:[{kind:"Variable",name:"handle",variableName:"handle"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryFilteredList_queryRoot_filteredChats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryListFilterFooter_bot"},{args:null,kind:"FragmentSpread",name:"ChatHistoryListFilterHeader_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null};t.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=t},20039:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHistoryListFilterFooter_bot",selections:[{args:null,kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot",abstractKey:null};n.hash="28febf44e9dd396e7c6da88cb2005174",a.default=n},27558:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHistoryListFilterHeader_bot",selections:[{args:null,kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot",abstractKey:null};n.hash="58f3712365229316b6bb6e43f6b72e11",a.default=n},80894:function(e,a,l){"use strict";var n,t,i,r,s;l.r(a);let o={fragment:{argumentDefinitions:n=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"ChatHistoryListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHistoryListPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"URLBotImage",abstractKey:null}],storageKey:null},{alias:"smallPicture",args:[{kind:"Literal",name:"size",value:"small"}],concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:s,storageKey:'picture(size:"small")'},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i],storageKey:null},r,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:t,filters:null,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},params:{id:"e1f379332b129f102ca185055ab15c6249109f4c8a8630a61f071f03c858cdd7",metadata:{},name:"ChatHistoryListPaginationQuery",operationKind:"query",text:null}};o.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=o},22256:function(e,a,l){"use strict";var n;l.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:[],operation:l(80894)}},name:"ChatHistoryList_queryRoot",selections:[{alias:"chats",args:null,concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"QueryRoot",abstractKey:null};t.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=t},77502:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],kind:"Fragment",metadata:null,name:"ChatHistoryMain_queryRoot",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"handle",variableName:"handle"}],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"useWriteIcon",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'}],storageKey:null}],type:"QueryRoot",abstractKey:null};n.hash="81694c77d304f7713f1aa69d5204f947",a.default=n},19652:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatHistoryPagedList_edges",selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}],storageKey:null}],type:"ChatEdge",abstractKey:null};n.hash="e6a030d05088ef01de4d75e4fc1025a8",a.default=n},75445:function(e,a,l){"use strict";var n,t,i,r,s,o,u,d,c,g,m,y;l.r(a);let k=(n=[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],t={kind:"Variable",name:"handle",variableName:"handle"},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[r={kind:"Literal",name:"first",value:15}],m=[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:g=[c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"URLBotImage",abstractKey:null}],storageKey:null},{alias:"smallPicture",args:[{kind:"Literal",name:"size",value:"small"}],concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:g,storageKey:'picture(size:"small")'},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i],storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},i],y=[r,t],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"chatsHistoryPageQuery",selections:[{args:[t,{kind:"Variable",name:"useBot",variableName:"useBot"}],kind:"FragmentSpread",name:"ChatHistoryMain_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"chatsHistoryPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"useWriteIcon",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'},i],storageKey:null},{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{alias:null,args:s,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:m,storageKey:"chats(first:15)"},{alias:null,args:s,filters:null,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{alias:"filteredChats",args:y,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:m,storageKey:null},{alias:"filteredChats",args:y,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[u,d,i,o],storageKey:null}]}]},params:{id:"2efe8c32917a41cc8502a51b93d8f2db35f8aa4819ff50867e6669b8b74c5442",metadata:{},name:"chatsHistoryPageQuery",operationKind:"query",text:null}});k.hash="644c3d8a9763c5519f4571d7a689ec86",a.default=k},42050:function(e,a,l){"use strict";var n=l(85893),t=l(30791),i=l(34616),r=l(74929),s=l(37115),o=l(11781),u=l.n(o);a.Z=e=>{let{header:a,startAtBottom:l,children:o,disallowScroll:d,noMaxWidth:c=!1}=e,{elementProps:g,providerProps:m}=(0,t.GO)(),y=(0,s.F)(),k=!(0,r.k6)(y)&&u().scrollSectionOverflow;return(0,n.jsxs)(n.Fragment,{children:[a,(0,n.jsx)(t.yp,{...m,children:(0,n.jsx)("div",{className:(0,i.$)(u().scrollSection,l&&u().startAtBottom,k,d&&u().disallowScroll),...g,children:(0,n.jsx)("div",{className:(0,i.$)(u().column,c&&u().noMaxWidth),children:o})})})]})}},75658:function(e,a,l){"use strict";var n=l(85893),t=l(42116),i=l(44254);a.Z=e=>(0,n.jsx)(i.Z,{leftNavItem:(0,n.jsx)(t.Z,{}),...e})},16392:function(e,a,l){"use strict";l.d(a,{C:function(){return usePagingTriggerRef}});var n=l(85893),t=l(67294),i=l(34616),r=l(13333),s=l.n(r),o=l(30791);let usePagingTriggerRef=e=>{let{loadMore:a,canLoadMore:l,rootMargin:n,scrollRootRef:i}=e,r=t.useRef(null),s=(0,o.Oi)(),u=void 0!==i?i:s;return(0,t.useEffect)(()=>{var e;if(!r.current||!l)return;let t=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==u?void 0:u.current)&&void 0!==e?e:null,threshold:0,rootMargin:n});return t.observe(r.current),()=>{t.disconnect()}},[a,l,n,u]),r},calcRootMargin=(e,a,l)=>"".concat(!a&&l?e:0,"px ").concat(a&&!l?e:0,"px ")+"".concat(a||l?0:e,"px ").concat(a&&l?e:0,"px");a.Z=e=>{let{children:a,className:l,loadMore:t,hasMore:r,isLoading:o,loadingState:u=null,error:d,errorState:c=null,threshold:g,horizontal:m=!1,reverse:y=!1,scrollRootRef:k}=e,h=usePagingTriggerRef({loadMore:t,canLoadMore:r&&!o&&!d,rootMargin:calcRootMargin(g,m,y),scrollRootRef:k}),p=d?c:(0,n.jsx)("div",{ref:h,className:s().pagingTrigger,children:o&&u});return(0,n.jsxs)("div",{className:(0,i.$)(s().container,m&&s().horizontal,l),children:[y&&p,a,!y&&p]})}},22019:function(e,a,l){"use strict";var n=l(85893),t=l(67294),i=l(34616),r=l(65886),s=l.n(r);let o=(0,t.forwardRef)((e,a)=>{let{label:l,icon:t,isActive:r=!1,className:o,...u}=e,d=(0,i.$)(s().root,r&&s().isActive,o);return(0,n.jsx)("button",{ref:a,className:d,...u,children:(0,n.jsxs)("span",{className:s().inner,children:[t,(0,n.jsx)("span",{className:s().inner,children:l})]})})});o.displayName="Chip",a.Z=o},57509:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return I}});var n=l(85893),t=l(22120);l(44311);var i=l(11163),r=l(67294),s=l(22578),o=l(19029),u=l(6488),d=l(69295),c=l(37650),g=l(60841),m=l.n(g),chat_ChatHistoryListFilterFooter=e=>{let{bot:a,clearFilter:i,noResults:r=!1}=e,o=(0,s.useFragment)(l(20039),a),u=(0,c.dC)(o),{t:g}=(0,t.$G)(),y=g(r?"You don't have any chats that include {{displayName}}.":"You've viewed all chats that include {{displayName}}.",{displayName:u});return(0,n.jsxs)("div",{className:m().container,children:[o&&(0,n.jsx)("p",{children:y}),(0,n.jsx)(d.oM,{onClick:i,children:g("Clear filter")})]})},y=l(22019),k=l(88478),h=l.n(k),chat_ChatHistoryListFilterHeader=e=>{let{bot:a,clearFilter:i}=e,r=(0,s.useFragment)(l(27558),a),{t:o}=(0,t.$G)(),u=(0,c.dC)(r);return(0,n.jsxs)("div",{className:h().container,children:[r&&(0,n.jsx)(y.Z,{label:u,isActive:!0}),(0,n.jsx)(d.oM,{onClick:i,children:o("Clear filter")})]})},p=l(16392),F=l(53231),_=l.n(F),f=l(91731),chat_ChatHistoryPagedList=e=>{let{edges:a,loadNext:t,hasNext:i,isLoadingNext:o}=e,u=(0,s.useFragment)(l(19652),a),[d,c]=(0,r.useState)(null),g=(0,r.useCallback)(()=>{t(10,{onComplete:e=>{e&&c(e)}})},[t]);return(0,n.jsx)(p.Z,{className:_().mainSection,loadMore:g,hasMore:i,isLoading:o,error:!!d,threshold:1e3,children:u.map(e=>(0,n.jsx)(f.Z,{chat:e.node},e.node.id))})},chat_ChatHistoryFilteredList=e=>{let{root:a,onFilterClear:t}=e,{data:i,loadNext:o,hasNext:u,isLoadingNext:d}=(0,s.usePaginationFragment)(l(31233),a),[c,g]=(0,r.useState)(!0),m=(0,r.useCallback)(()=>{g(!1),null==t||t()},[t]);return(0,n.jsxs)("div",{children:[c&&(0,n.jsx)(chat_ChatHistoryListFilterHeader,{bot:i.bot,clearFilter:m}),(0,n.jsx)(chat_ChatHistoryPagedList,{edges:i.filteredChats.edges,loadNext:o,hasNext:u,isLoadingNext:d}),c&&(0,n.jsx)(chat_ChatHistoryListFilterFooter,{bot:i.bot,clearFilter:m,noResults:0===i.filteredChats.edges.length})]})},b=l(47392),K=l(60130),C=l(52779),L=l.n(C),chat_ChatHistoryList=e=>{let{root:a,setRefetchFullList:i,useOldPlusIcon:o}=e,{data:u,loadNext:c,hasNext:g,isLoadingNext:m,refetch:y}=(0,s.usePaginationFragment)(l(22256),a),{t:k}=(0,t.$G)();return((0,r.useEffect)(()=>{y&&i(y)},[i,y]),0===u.chats.edges.length)?(0,n.jsxs)("div",{className:L().emptyContainer,children:[(0,n.jsx)("p",{children:k("You don't have any chats.")}),(0,n.jsx)(d.oM,{href:"/",icon:o?(0,n.jsx)(b.Z,{}):(0,n.jsx)(K.Z,{}),children:k("New chat")})]}):(0,n.jsx)(chat_ChatHistoryPagedList,{edges:u.chats.edges,loadNext:c,hasNext:g,isLoadingNext:m})},chat_ChatHistoryMain=e=>{var a,t;let{root:d}=e,c=(0,s.useFragment)(l(77502),d),[g,m]=(0,r.useState)(),y=(0,i.useRouter)(),k=(0,r.useCallback)(()=>{var e;g?(y.replace("/chats",void 0,{shallow:!0}),g({})):y.push("/chats"),(0,o.Z)("poe/action_log",{action_type:u.Z.clear_chat_history_page_filter,bot_id:null===(e=c.bot)||void 0===e?void 0:e.botId})},[null===(a=c.bot)||void 0===a?void 0:a.botId,g,y]);return(null===(t=c.bot)||void 0===t?void 0:t.botId)?(0,n.jsx)(chat_ChatHistoryFilteredList,{root:c,onFilterClear:k}):(0,n.jsx)(chat_ChatHistoryList,{root:c,setRefetchFullList:m,useOldPlusIcon:!c.viewer.useWriteIcon})},S=l(42050),v=l(75658),x=l(50515),N=l(25935),H=l(50530);let T=(0,N.T)(e=>{let{t:a}=(0,t.$G)();return(0,n.jsxs)(S.Z,{header:(0,n.jsx)(v.Z,{title:a("All chats")}),children:[(0,n.jsx)(x.Z,{title:a("All chats")}),(0,n.jsx)(chat_ChatHistoryMain,{root:e})]})},{query:l(75445),variables:e=>{let a=e.bot;return(0,H.H)(a)?{handle:a,useBot:!0}:{handle:"",useBot:!1}}},{loggedInOnly:!0});var I=T},65886:function(e){e.exports={root:"chip_root__VqoGT",isActive:"chip_isActive__lp306",inner:"chip_inner__tuTk3"}},52779:function(e){e.exports={emptyContainer:"ChatHistoryList_emptyContainer__ju5Ha"}},60841:function(e){e.exports={container:"ChatHistoryListFilterFooter_container__KMEvP"}},88478:function(e){e.exports={container:"ChatHistoryListFilterHeader_container__E8CjK"}},53231:function(e){e.exports={mainSection:"ChatHistoryPagedList_mainSection__h7IQR"}},11781:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},13333:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}}},function(e){e.O(0,[9692,1664,5675,6835,3974,6793,8808,1529,4108,9348,9774,2888,179],function(){return e(e.s=86867)}),_N_E=e.O()}]);