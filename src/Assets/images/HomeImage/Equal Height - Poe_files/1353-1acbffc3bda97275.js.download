(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1353],{58406:function(e,a,t){"use strict";var n,l,r=t(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}a.Z=function(e){return r.createElement("svg",_extends({viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{d:"M18.073 13.588a.876.876 0 0 0-.771-.462h-2.427V9.043a.874.874 0 0 0-1.603-.486L9.97 13.516a.874.874 0 0 0 .728 1.36h2.427v4.083a.874.874 0 0 0 1.604.486l3.302-4.96a.875.875 0 0 0 .043-.898l-.001.001Z"})),l||(l=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 4.667A9.332 9.332 0 0 0 4.667 14 9.332 9.332 0 0 0 14 23.333a9.307 9.307 0 0 0 6.794-2.933l-1.372.193a1.167 1.167 0 0 1-.326-2.31l3.89-.547a1.167 1.167 0 0 1 1.492 1.12l.547 3.895a1.167 1.167 0 0 1-2.31.326l-.161-1.144a11.636 11.636 0 0 1-8.555 3.734C7.555 25.667 2.332 20.443 2.332 14S7.556 2.333 14 2.333c6.444 0 11.667 5.224 11.667 11.667a1.167 1.167 0 0 1-2.334 0A9.332 9.332 0 0 0 14 4.667Z"})))}},53968:function(e,a,t){"use strict";var n,l=t(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}a.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.614 4.211a1 1 0 0 1 .175 1.403L10.607 18.691a1 1 0 0 1-1.496.093l-5.818-5.819a1 1 0 1 1 1.414-1.414l5.018 5.018L19.21 4.386a1 1 0 0 1 1.403-.175Z"})))}},51008:function(e,a,t){"use strict";var n,l=t(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}a.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.023 2.5a.997.997 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9c0 .116-.02.23-.059.339a8.857 8.857 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a.998.998 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.857 8.857 0 0 1-2.811-3.938A.98.98 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408Z"})))}},65492:function(e,a,t){"use strict";var n,l=t(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}a.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.023 2.5a.997.997 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9c0 .116-.02.23-.059.339a8.857 8.857 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a.998.998 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.857 8.857 0 0 1-2.811-3.938A.98.98 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408ZM12 19.422c1.595-.658 2.878-1.395 3.871-2.199A6.863 6.863 0 0 0 18 14.32V7.032c-1.141.353-2.279.343-3.379-.107a7.366 7.366 0 0 1-2.643-1.838L12 19.422Z"})))}},37242:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoCard_ActionBarPrimaryButton_bot",selections:[{kind:"InlineDataFragmentSpread",name:"setBotDetailsSidebar_bot",selections:[{args:null,kind:"FragmentSpread",name:"ChatBotDetailsSidebar_bot"}],args:null,argumentDefinitions:[]}],type:"Bot",abstractKey:null};n.hash="98185c7bf258d6f04147a378d1854b72",a.default=n},9064:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoCard_bot",selections:[{args:null,kind:"FragmentSpread",name:"BotInfoCardHeader_bot"},{args:null,kind:"FragmentSpread",name:"BotInfoCardBody_bot"},{args:null,kind:"FragmentSpread",name:"BotInfoCardFooter_bot"},{args:null,kind:"FragmentSpread",name:"BotLink_bot"},{args:null,kind:"FragmentSpread",name:"BotInfoCardActionBar_bot"},{args:null,kind:"FragmentSpread",name:"BotInfoCard_ActionBarPrimaryButton_bot"},{args:null,kind:"FragmentSpread",name:"botHelpers_useViewerCanAccessPrivateBot"}],type:"Bot",abstractKey:null};n.hash="fc22de20c33e8e11304bfb12da7f07ee",a.default=n},50708:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoCard_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotInfoCardBody_viewer"},{args:null,kind:"FragmentSpread",name:"BotInfoCardHeader_viewer"},{args:null,kind:"FragmentSpread",name:"BotInfoCardActionBar_viewer"},{alias:"isPrivateDeletedBotsChangesEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_private_deleted_bots_changes"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_private_deleted_bots_changes")'}],type:"Viewer",abstractKey:null};n.hash="9475113fc01fe1f49cfda3c57d08ca5e",a.default=n},53780:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHeaderTitleSubscriber_chat",selections:[{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null}],type:"Chat",abstractKey:null};n.hash="b9f5825ad3f34e6556eb3ccd1903e5f7",a.default=n},73390:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHeader_bot",selections:[{args:null,kind:"FragmentSpread",name:"BotImage_bot"},{args:null,kind:"FragmentSpread",name:"PrivateMessageIcon_bot"},{args:null,kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot",abstractKey:null};n.hash="cbaab11b46b13fc7d775368525963e7d",a.default=n},23350:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHeader_chat",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isContextOptimizationOn",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHeader_bot"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatHeaderTitleSubscriber_chat"},{args:null,kind:"FragmentSpread",name:"IdAnnotation_node"},{args:null,kind:"FragmentSpread",name:"ChatPrivacyIndicatorIcon_chat"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],type:"Chat",abstractKey:null};n.hash="3504677dc129825bd1165b8014731d49",a.default=n},32951:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHeader_viewer",selections:[{alias:"enablePayByContext",args:[{kind:"Literal",name:"gateName",value:"poe_enable_pay_by_context"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_pay_by_context")'}],type:"Viewer",abstractKey:null};n.hash="b180463623f6b68c9caf59031705b1bf",a.default=n},81132:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPageNavActionBar_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCreatedByPoeUserAccount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotFollowStateButton_bot"},{args:null,kind:"FragmentSpread",name:"BotShareButton_bot"},{args:null,kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"}],type:"Bot",abstractKey:null};n.hash="3bcda01ea07293f22a264cf487dd9ddc",a.default=n},89915:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPageNavbar_bot",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageNavActionBar_bot"},{args:null,kind:"FragmentSpread",name:"NewChatNavButton_bot"},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null}],type:"Bot",abstractKey:null};n.hash="f25a11fb6b90d0d5b9f48c8cbac916ec",a.default=n},36035:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[{defaultValue:5,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"backward",path:["messagesConnection"]}]},name:"ChatPageNavbar_chat",selections:[{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:"messagesConnection",args:null,concreteType:"MessagesConnection",kind:"LinkedField",name:"__ChatMessagesView_chat_messagesConnection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],type:"Chat",abstractKey:null};n.hash="51d50a0a27249753fb5023245717be1d",a.default=n},92672:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPageNavbar_viewer",selections:[{alias:"showNewChatButton",args:[{kind:"Literal",name:"gateName",value:"poe_web_more_discoverable_create_new_chat_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_more_discoverable_create_new_chat_button")'},{alias:"enableNewChatButtonForNoAccessBots",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_private_deleted_bots_changes_p2"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_private_deleted_bots_changes_p2")'}],type:"Viewer",abstractKey:null};n.hash="aebc83f2bbb733a56f3d45557c195bc3",a.default=n},14735:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPrivacyIndicatorIcon_chat",selections:[{alias:null,args:null,kind:"ScalarField",name:"membersIncludeUntrustedBot",storageKey:null}],type:"Chat",abstractKey:null};n.hash="8b888dce674c81f989f2353364834b74",a.default=n},36900:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatPrivacyIndicator_chat",selections:[{alias:null,args:null,kind:"ScalarField",name:"membersIncludeUntrustedBot",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatPrivacyIndicatorIcon_chat"}],type:"Chat",abstractKey:null};n.hash="6bb85817556ef339b70c6f37f9843140",a.default=n},4156:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NewChatNavButton_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{args:null,kind:"FragmentSpread",name:"botHelpers_useViewerCanAccessPrivateBot"},{args:null,kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"}],type:"Bot",abstractKey:null};n.hash="b0a48a440292393181698cba47cdda5b",a.default=n},79682:function(e,a,t){"use strict";t.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PrivateMessageIcon_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"isTrustedBot",storageKey:null}],type:"Bot",abstractKey:null};n.hash="0178a0e02b7e2e292faf6dbc2bf88d5a",a.default=n},21877:function(e,a,t){"use strict";var n=t(85893),l=t(67294),r=t(22120),i=t(22578),s=t(64811),o=t(37650),c=t(34616),d=t(59519),u=t(62124),m=t.n(u),h=t(69295),g=t(97642),b=t(953),_=t(78806),p=t(94639);let ActionBarPrimaryButton=e=>{let{bot:a}=e,o=(0,i.useFragment)(t(37242),a),{t:c}=(0,r.$G)(),u=(0,d.X)(),g=(0,l.useCallback)(()=>{u(o)},[o,u]);return(0,n.jsx)(h.PL,{icon:(0,n.jsx)(s.Z,{className:m().infoIcon}),onClick:g,children:c("Bot info")})};a.Z=e=>{let{bot:a,viewer:l,className:r,linked:s=!1,showFollowerCount:d=!1,showMonthlyActiveUserCount:u=!1,showTalkToBotButton:h=!1}=e,f=(0,i.useFragment)(t(9064),a),{uid:v,isPrivateDeletedBotsChangesEnabled:C,...x}=(0,i.useFragment)(t(50708),l),k=(0,o.nn)(f),y=s?(0,n.jsx)(p.Z,{bot:f,children:(0,n.jsx)(_.Z,{bot:f,viewer:x,showFollowerCount:d,showMonthlyActiveUserCount:u,imageSize:"md"})}):(0,n.jsx)(_.Z,{bot:f,viewer:x,showFollowerCount:d,showMonthlyActiveUserCount:u,imageSize:"md",shouldOpenSidebar:!0});return(0,n.jsxs)("div",{className:(0,c.$)(m().sectionContainer,r),children:[y,(C?k:!!v)&&(0,n.jsx)(g.Z,{className:m().actionBar,bot:f,viewer:x,primaryButton:(0,n.jsx)(ActionBarPrimaryButton,{bot:f})}),(0,n.jsx)(b.Z,{bot:f,viewer:x,showTalkToBotButton:h})]})}},58097:function(e,a,t){"use strict";t.d(a,{Z:function(){return chat_ChatHeader}});var n=t(85893),l=t(41143),r=t.n(l),i=t(67294),s=t(22120),o=t(22578),c=t(72061),d=t(2012),u=t(41019),m=t(58406),h=t(37650),g=t(34616),b=t(47986),_=t(67275),p=t(49750),f=t.n(p),v=t(47547),C=t(51008),x=t(65492),k=t(81173),y=t.n(k),bot_PrivateMessageIcon=e=>{let{bot:a,hasDescription:l=!1}=e,{isTrustedBot:r}=(0,o.useFragment)(t(79682),a),i=l?y().shieldIconHasDescription:y().shieldIcon;return(0,n.jsx)("div",{className:y().shieldContainer,children:r?(0,n.jsx)(C.Z,{className:i}):(0,n.jsx)(x.Z,{className:i})})},B=t(65869);let importChatSettingsModal=()=>t.e(43).then(t.bind(t,43)),ChatHeaderTitleSubscriber=e=>{let{chat:a}=e,{chatId:n}=(0,o.useFragment)(t(53780),a);return(0,_.$3)(n),null};var chat_ChatHeader=e=>{let{chat:a,bot:l,viewer:_}=e;r()(a||l,"Either chat or bot must be passed in");let p=(0,o.useFragment)(t(23350),null!=a?a:null),C=(0,o.useFragment)(t(73390),(null==p?void 0:p.defaultBotObject)||l);r()(C,"Whether botData comes from the chat or is passed in, it must be available.");let x=(0,o.useFragment)(t(32951),null!=_?_:null),{isLoggedInUser:k}=(0,d.b)(),{t:y}=(0,s.$G)(),[w,I]=(0,i.useState)(!1),F=(0,i.useCallback)(()=>{I(!0)},[]),N=(0,i.useCallback)(()=>{(0,b.nL)(b.wy.ChatHeaderModalClosed),I(!1)},[]),S=(0,h.dC)(C),j=(0,i.useMemo)(()=>p?p.isOptimistic?{optimisticChatId:p.id,closeModal:N}:{chatId:p.chatId,closeModal:N}:{chatId:0,closeModal:N},[p,N]),P=(0,i.useMemo)(()=>p?(0,n.jsx)(c.S,{chat:p,hasDescription:!1}):(0,n.jsx)(bot_PrivateMessageIcon,{bot:C}),[p,C]),M=(null==p?void 0:p.botMembersCount)&&(null==p?void 0:p.botMembersCount)>1?y("botMembersText",{count:p.botMembersCount-1,displayName:S,defaultValue:"{{displayName}} and {{count}} bots",defaultValue_one:"{{displayName}} and {{count}} bot"}):S,Z=k&&p,K=p&&!p.isOptimistic&&p.isContextOptimizationOn&&x&&x.enablePayByContext;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:Z?(0,g.$)(f().boldTitle,f().clickable):f().boldTitle,...Z&&{onClick:F},children:[(0,n.jsx)(v.Z,{bot:C,size:"sm"}),(0,n.jsxs)("div",{className:f().overflow,children:[(0,n.jsx)("p",{className:(0,g.$)(f().overflow,f().textOverflow),children:(null==p?void 0:p.title)||y("New chat")}),(0,n.jsxs)("div",{className:f().subTextContainer,children:[P,K&&(0,n.jsx)(m.Z,{className:f().chatContextOptimizationIcon}),(0,n.jsx)("p",{className:f().subText,children:M})]})]})]}),p&&(0,n.jsx)(B.Z,{node:p}),(0,n.jsx)(u.Z,{isOpen:w,onRequestClose:N,body:importChatSettingsModal,bodyProps:j,modalHeight:400,useMinHeight:!0,useIncreasedHeightInCompactScreen:!0,variant:"compact"}),p&&!p.isOptimistic&&(0,n.jsx)(ChatHeaderTitleSubscriber,{chat:p})]})}},17323:function(e,a,t){"use strict";t.d(a,{Z:function(){return chat_ChatMainNavbar}});var n=t(85893),l=t(42116),r=t(67294),i=t(22120),s=t(22578),o=t(3108),c=t.n(o),bot_BotDownBanner=()=>{let{t:e}=(0,i.$G)();return(0,n.jsx)("div",{className:c().botDownBanner,children:e("This bot is currently down.")})},d=t(2012),u=t(35409),m=t(69295),h=t(34616),g=t(73558),b=t.n(g);let SignupButton=e=>{let{signupWallTriggerSource:a,className:t}=e,{shouldShowSignupWall:l,openSignupWall:s}=(0,u.zl)(),{t:o}=(0,i.$G)(),c=(0,r.useCallback)(()=>{l&&s(a)},[l,s,a]);return(0,n.jsx)(m.DF,{onClick:c,className:(0,h.$)(b().button,t),children:(0,n.jsx)("span",{className:b().signUpText,children:o("Sign up")})})};var _=t(41019),p=t(12211),f=t(62903),v=t(39620),C=t(6997),x=t(19029),k=t(50141),y=t(10406),B=t(57031),w=t.n(B),I=t(8143),F=t(6488),N=t(44254),S=t(46296),j=t(96333),P=t.n(j),chat_ChatOfflineBanner=()=>{let{t:e}=(0,i.$G)();return(0,n.jsx)("div",{className:P().offlineBanner,children:e("You are offline.")})},M=t(37650),Z=t(13827),K=t.n(Z),T=t(83243),O=t(72211),chat_ChatPageNavActionBar=e=>{let{bot:a}=e,l=(0,s.useFragment)(t(81132),a),{isDeleted:r}=(0,M.iZ)(l);return l.isCreatedByPoeUserAccount||l.viewerIsFollower||r||l.isPrivateBot?null:(0,n.jsxs)("div",{className:K().container,children:[(0,n.jsx)(T.Z,{bot:l,variant:"flat"}),(0,n.jsx)(O.Z,{bot:l,variant:"flat"})]})},D=t(46898),H=t(60130);let NewChatNavButton=e=>{let a=(0,s.useFragment)(t(4156),e.bot),l=(0,M.nn)(a),{isDeleted:o}=(0,M.iZ)(a),{t:c}=(0,i.$G)(),d=!e.enableForNoAccessBots&&(o||!l),u=(0,r.useCallback)(()=>{(0,x.Z)("poe/action_log",{action_type:F.Z.new_chat_open,bot_id:a.botId,action_metadata:{context:I.Z.nav_bar}})},[a]);return(0,n.jsx)(D.f,{disabled:d,hideText:e.hideText,href:"/".concat(encodeURIComponent(a.handle)),onClick:u,icon:(0,n.jsx)(H.Z,{}),text:c("New chat")})},importShareBotOrChatModal=()=>t.e(5421).then(t.bind(t,45421));var chat_ChatPageNavbar=e=>{let{bot:a,chat:l,children:o,viewer:c,toggleSidebarButton:h,useChatTitle:g=!1,hideActionBar:b=!1}=e,B=(0,s.useFragment)(t(89915),a),j=(0,s.useFragment)(t(92672),c),P=(0,s.useFragment)(t(36035),null!=l?l:null),M=(0,y.Z)(),{t:Z}=(0,i.$G)(),[K,T]=(0,r.useState)(!1),O=(0,p.ZP)(),H=(0,r.useCallback)(()=>{T(!1)},[]),A=(0,r.useMemo)(()=>({botId:B.botId,chatId:(null==P?void 0:P.isOptimistic)?void 0:null==P?void 0:P.chatId,closeModal:H}),[B,P,H]),{selectionMode:L,setSelectionMode:E,clearSelection:G}=(0,k.ZP)(),V=(0,r.useCallback)(()=>{E(k.oW.none),G()},[E,G]),U=(0,r.useMemo)(()=>L===k.oW.none?h||(0,n.jsx)(S.Z,{}):(0,n.jsx)(m.t9,{className:w().endSelectionButton,onClick:V,children:(0,n.jsx)(v.Z,{className:w().closeIcon})}),[L,V,h]),{isLoggedInUser:R}=(0,d.b)(),W=(0,r.useCallback)(async()=>{R?(T(!0),(0,x.Z)("poe/action_log",{action_type:F.Z.share_button_click,bot_id:B.botId,chat_id:null==P?void 0:P.chatId,action_metadata:{context:I.Z.nav_bar}})):await (0,C.v)(window.location.href)?O({content:(0,n.jsx)("p",{children:Z("Copied link to clipboard.")}),type:p.pC.success}):O({content:(0,n.jsx)("p",{children:Z("Failed to copy link to clipboard.")}),type:p.pC.error})},[B.botId,null==P?void 0:P.chatId,R,O,Z]),$=(0,r.useCallback)(e=>(0,n.jsx)(m.oM,{className:e?w().shareButton:w().noTextShareButton,onClick:W,children:(0,n.jsxs)("span",{className:w().shareTextWrapper,children:[(0,n.jsx)(f.Z,{className:w().shareIcon}),e&&(0,n.jsx)("span",{className:w().shareText,children:Z("Share")})]})}),[W,Z]),z=!R,q=(0,r.useMemo)(()=>(0,n.jsx)("span",{className:w().rightNavItemWrapper,children:L===k.oW.none&&(0,n.jsxs)(n.Fragment,{children:[(null==j?void 0:j.showNewChatButton)?(0,n.jsxs)(n.Fragment,{children:[z?null:(0,n.jsx)(NewChatNavButton,{bot:B,enableForNoAccessBots:j.enableNewChatButtonForNoAccessBots,hideText:z}),(0,n.jsx)(D.f,{hideText:z,icon:(0,n.jsx)(f.Z,{}),text:Z("Share"),onClick:W})]}):$(!z),z&&(0,n.jsx)(SignupButton,{className:(null==j?void 0:j.showNewChatButton)?void 0:w().signUpButton,signupWallTriggerSource:u.dh.navBarSignupButton})]})}),[L,$,B,W,null==j?void 0:j.showNewChatButton,Z,z,j.enableNewChatButtonForNoAccessBots]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.Z,{leftNavItem:U,rightNavItem:q,useChatTitle:g,children:o}),!b&&(0,n.jsx)(chat_ChatPageNavActionBar,{bot:B}),M&&(0,n.jsx)(chat_ChatOfflineBanner,{}),B.isDown&&(0,n.jsx)(bot_BotDownBanner,{}),(0,n.jsx)(_.Z,{isOpen:K,onRequestClose:H,body:importShareBotOrChatModal,bodyProps:A,variant:"compact"})]})},chat_ChatMainNavbar=e=>(0,n.jsx)(chat_ChatPageNavbar,{toggleSidebarButton:(0,n.jsx)(l.Z,{}),hideActionBar:!0,...e})},72061:function(e,a,t){"use strict";t.d(a,{E:function(){return ChatPrivacyIndicator},S:function(){return ChatPrivacyIndicatorIcon}});var n=t(85893),l=t(41664),r=t.n(l);t(67294);var i=t(22120),s=t(22578),o=t(51008),c=t(65492),d=t(55625),u=t(68318),m=t.n(u);let ChatPrivacyIndicatorIcon=e=>{let{chat:a,hasDescription:l=!1}=e,{membersIncludeUntrustedBot:r}=(0,s.useFragment)(t(14735),a),i=l?m().shieldIconHasDescription:m().shieldIcon;return(0,n.jsx)("div",{className:m().shieldContainer,children:r?(0,n.jsx)(c.Z,{className:i}):(0,n.jsx)(o.Z,{className:i})})},ChatPrivacyIndicator=e=>{let{chat:a}=e,{membersIncludeUntrustedBot:l,...o}=(0,s.useFragment)(t(36900),a),{t:c}=(0,i.$G)();return(0,n.jsxs)("div",{className:m().privateMessageContainer,children:[(0,n.jsx)(ChatPrivacyIndicatorIcon,{chat:o,hasDescription:!0}),(0,n.jsxs)("p",{className:m().privateMessageText,children:[c(l?"This chat can't be read by other users but contains external server bots; anonymized chats may be used for LLM training.":"This chat can't be read by other users.")," ",(0,n.jsx)(r(),{href:(0,d.qm)("/privacy_center"),className:m().privateMessageLink,target:"_blank",children:c("Learn more")}),"."]})]})}},46898:function(e,a,t){"use strict";t.d(a,{f:function(){return NavButton}});var n=t(85893),l=t(67294),r=t(69295),i=t(25533),s=t(12477),o=t.n(s);function NavButton(e){let{text:a,icon:t,hideText:s,...c}=e,d=function(e){let[a,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let a=window.matchMedia(e),documentChangeHandler=()=>t(a.matches);return t(a.matches),a.addEventListener("change",documentChangeHandler),()=>{a.removeEventListener("change",documentChangeHandler)}},[e]),a}("(max-width: 42.75rem)"),u=d||s,[m,h]=(0,l.useState)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.t9,{ref:h,...c,icon:t,className:o().button,"aria-label":a,children:u?null:(0,n.jsx)("span",{className:o().text,children:a})}),u?(0,n.jsx)(i.Z,{anchorRef:m,label:a}):null]})}},9795:function(e,a,t){"use strict";var n=t(85893);t(67294);var l=t(53968),r=t(34616),i=t(44735),s=t.n(i),o=t(10504),c=t.n(o);a.Z=e=>{let{className:a,children:t,isChecked:i=!1,isDisabled:o=!1,...d}=e,u=(0,r.$)(s().label,o?s().isDisabled:null,i?c().isChecked:null,o?c().isDisabled:null,a),m=(0,r.$)(s().inputImage,c().inputImage);return(0,n.jsxs)("label",{className:u,children:[(0,n.jsx)("input",{className:s().input,type:"checkbox",disabled:o,checked:i,...d}),(0,n.jsx)("div",{className:m,children:i&&(0,n.jsx)(l.Z,{})}),t&&(0,n.jsx)("div",{className:c().text,children:t})]})}},6997:function(e,a,t){"use strict";t.d(a,{v:function(){return copyToClipboard}});let copyToClipboard=async(e,a)=>{let t=Promise.resolve(e);if(void 0!==window.ClipboardItem){let e=new window.ClipboardItem({"text/plain":t.then(e=>new Blob([e],{type:"text/plain"}))});try{return await navigator.clipboard.write([e]),!0}catch(e){return a&&a(),!1}}else try{let e=window.document.createElement("textarea");window.document.body.appendChild(e),e.value=await t,e.select();let n=window.document.execCommand("copy");return n||(e.focus(),e.setSelectionRange(0,99999),n=window.document.execCommand("copy")),e.remove(),!n&&a&&a(),n}catch(e){return a&&a(),!1}}},50141:function(e,a,t){"use strict";t.d(a,{Br:function(){return MultiselectProvider},oW:function(){return l}});var n,l,r=t(85893),i=t(67294);(n=l||(l={}))[n.none=0]="none",n[n.share=1]="share",n[n.delete=2]="delete";let s=(0,i.createContext)(0),o=(0,i.createContext)(()=>{}),c=(0,i.createContext)([]),d=(0,i.createContext)(()=>{}),MultiselectProvider=e=>{let{children:a}=e,[t,n]=(0,i.useState)(0),[l,u]=(0,i.useState)([]);return(0,r.jsx)(s.Provider,{value:t,children:(0,r.jsx)(o.Provider,{value:n,children:(0,r.jsx)(c.Provider,{value:l,children:(0,r.jsx)(d.Provider,{value:u,children:a})})})})};a.ZP=()=>{let e=(0,i.useContext)(s),a=(0,i.useContext)(o),t=(0,i.useContext)(c),n=(0,i.useContext)(d),l=(0,i.useCallback)(e=>{n(a=>[...a,e])},[n]),r=(0,i.useCallback)(e=>{n(a=>a.filter(a=>a!==e))},[n]),u=(0,i.useCallback)(e=>{t.includes(e)?r(e):l(e)},[t,r,l]),m=(0,i.useCallback)(()=>{n([])},[n]),h=(0,i.useMemo)(()=>0!==e,[e]);return{selectionMode:e,selectedIds:t,setSelectionMode:a,addSelection:l,removeSelection:r,toggleSelection:u,clearSelection:m,isSelecting:h}}},10406:function(e,a,t){"use strict";t.d(a,{q:function(){return getHasBeenOffline}});var n=t(67294);let l=!1,getHasBeenOffline=()=>l;a.Z=()=>{let[e,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let setOffline=()=>{l=!0,a(!0)},setOnline=()=>{a(!1)};return window.addEventListener("offline",setOffline),window.addEventListener("online",setOnline),()=>{window.removeEventListener("offline",setOffline),window.removeEventListener("online",setOnline)}},[a]),e}},12477:function(e){e.exports={button:"NavButton_button__UGi6m",text:"NavButton_text__vHYkD"}},10504:function(e){e.exports={text:"checkbox_text__PtYHd",inputImage:"checkbox_inputImage__LWAWc",isChecked:"checkbox_isChecked__Bl3pv",isDisabled:"checkbox_isDisabled__bOKCs"}},44735:function(e){e.exports={label:"checkbox-and-radio_label__4Tf7Q",input:"checkbox-and-radio_input__X_Vcu",isDisabled:"checkbox-and-radio_isDisabled__jN6IM",inputImage:"checkbox-and-radio_inputImage__ennkz"}},3108:function(e){e.exports={botDownBanner:"BotDownBanner_botDownBanner__gn4_i"}},62124:function(e){e.exports={sectionContainer:"BotInfoCard_sectionContainer__S96Qf",footer:"BotInfoCard_footer__dJq_v",hr:"BotInfoCard_hr__MBnAS",link:"BotInfoCard_link__Uq_G8",infoIcon:"BotInfoCard_infoIcon__vmWak",actionBar:"BotInfoCard_actionBar__dAMHR"}},81173:function(e){e.exports={privateMessageContainer:"PrivateMessageIndicator_privateMessageContainer__LektE",privateMessageText:"PrivateMessageIndicator_privateMessageText__BosYz",shieldContainer:"PrivateMessageIndicator_shieldContainer__BiUve",shieldIcon:"PrivateMessageIndicator_shieldIcon__b_J0B",shieldIconHasDescription:"PrivateMessageIndicator_shieldIconHasDescription__rsFdu",privateMessageLink:"PrivateMessageIndicator_privateMessageLink__CPJeg"}},49750:function(e){e.exports={boldTitle:"ChatHeader_boldTitle__TK9mB",clickable:"ChatHeader_clickable__7fBYF",subText:"ChatHeader_subText__JcFh3",overflow:"ChatHeader_overflow__aVkfq",textOverflow:"ChatHeader_textOverflow__8Kqkz",subTextContainer:"ChatHeader_subTextContainer___Myba",chatContextOptimizationIcon:"ChatHeader_chatContextOptimizationIcon__XRw9c"}},96333:function(e){e.exports={offlineBanner:"ChatOfflineBanner_offlineBanner__KOexN"}},13827:function(e){e.exports={container:"ChatPageNavActionBar_container__PVN0U"}},57031:function(e){e.exports={endSelectionButton:"ChatPageNavbar_endSelectionButton__V5yoM",shareButton:"ChatPageNavbar_shareButton__QuaBY",noTextShareButton:"ChatPageNavbar_noTextShareButton__Y7z4N",rightNavItemWrapper:"ChatPageNavbar_rightNavItemWrapper__hlLkg",signUpButton:"ChatPageNavbar_signUpButton__xp_SZ",shareTextWrapper:"ChatPageNavbar_shareTextWrapper__yHoeV",shareText:"ChatPageNavbar_shareText__Gm0Zc",closeIcon:"ChatPageNavbar_closeIcon__eqA3l"}},68318:function(e){e.exports={privateMessageContainer:"ChatPrivacyIndicator_privateMessageContainer__khF32",privateMessageText:"ChatPrivacyIndicator_privateMessageText__wp_vg",shieldContainer:"ChatPrivacyIndicator_shieldContainer__8b4lV",shieldIcon:"ChatPrivacyIndicator_shieldIcon__4JelG",shieldIconHasDescription:"ChatPrivacyIndicator_shieldIconHasDescription__Dfl_a",privateMessageLink:"ChatPrivacyIndicator_privateMessageLink__w6GYQ"}},73558:function(e){e.exports={button:"SignupButton_button__SIoZv",signUpText:"SignupButton_signUpText__fkmlf"}}}]);